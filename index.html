<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Paper Perspective Correction</title>
  
  <meta name="description" content="Free online document perspective correction tool. Fix skewed or distorted document images using 4+ point selection. Checkout the website for more details">
  <meta name="keywords" content="document perspective correction, fix skewed document, image perspective transform, scan correction online, crop document image, rectify scanned documents">
  <meta name="author" content="Advanced Perspective Correction Tool">
  <meta name="robots" content="index, follow">
  
  <link rel="canonical" href="https://ni-kit-mht.github.io/perspective-correction/">
  <link rel="icon" href="/perspective-correction/favicon.ico" type="image/x-icon">
  
  <meta property="og:type" content="website">
  <meta property="og:title" content="Document Perspective Correction Tool – Fix Skewed Scans">
  <meta property="og:description" content="Correct document perspective using 4-point selection. Preserve image quality, crop accurately, revert changes, and download high-quality results.">
  <meta property="og:url" content="https://ni-kit-mht.github.io/perspective-correction/">
  <meta property="og:image" content="https://ni-kit-mht.github.io/perspective-correction/preview.png">
  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Document Perspective Correction Tool">
  <meta name="twitter:description" content="Fix skewed document images online using precise 4-point perspective correction.">
  <meta name="twitter:image" content="https://ni-kit-mht.github.io/perspective-correction/preview.png">
  
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "Advanced Perspective Correction Tool",
    "url": "https://ni-kit-mht.github.io/perspective-correction/",
    "description": "Online document perspective correction tool that rectifies skewed or distorted images using 4-point selection while preserving original image quality.",
    "applicationCategory": "PhotoEditingApplication",
    "operatingSystem": "Web",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    }
  }
  </script>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What is document perspective correction?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Document perspective correction fixes skewed or angled images by transforming them into a rectangular, front-facing view."
        }
      },
      {
        "@type": "Question",
        "name": "How does this perspective correction tool work?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "You select at least four points around the document edges and the tool applies a perspective transformation locally in the browser."
        }
      },
      {
        "@type": "Question",
        "name": "Is my image uploaded to a server?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "No. All processing happens locally in your browser and images are never uploaded."
        }
      },
      {
        "@type": "Question",
        "name": "Does this tool reduce image quality?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "No. The original image resolution is preserved during perspective correction."
        }
      }
    ]
  }
  </script>

  <style>
    .icon-svg {
      width: 1em;
      height: 1em;
      display: inline-block;
      vertical-align: -0.125em;
      fill: currentColor;
    }
    
    .icon-svg-large {
      width: 2rem;
      height: 2rem;
      display: block;
      margin-bottom: 10px;
      fill: currentColor;
    }
  </style>

  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div class="container">
    <header>
      <h1>
        <svg class="icon-svg fas fa-crop-alt" viewBox="0 0 512 512">
          <path d="M448 384H384V160c0-35.3-28.7-64-64-64H96V32c0-17.7-14.3-32-32-32S32 14.3 32 32V96H0v64H32v224c0 35.3 28.7 64 64 64H320v32c0 17.7 14.3 32 32 32s32-14.3 32-32V448h64c17.7 0 32-14.3 32-32s-14.3-32-32-32zM96 160H320V384H96V160z"/>
        </svg>
        Document Perspective Correction Tool
      </h1>
      <p class="subtitle">
        Fix skewed or distorted document images using precise 4-point perspective correction.
        Preserve original resolution, crop unnecessary regions, revert changes, and download
        high-quality corrected results — all directly in your browser.
      </p>
    </header>

    <main class="main-content">
      <!-- LEFT PANEL: Controls -->
      <section class="left-panel">
        <h2 class="panel-title">Controls</h2>

        <div class="control-group">
          <div class="control-label">Upload Image</div>
          <div class="file-upload" id="fileUpload">
            <svg class="icon-svg-large fas fa-cloud-upload-alt" viewBox="0 0 640 512">
              <path d="M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128H144zm79-167l80-80c9.4-9.4 24.6-9.4 33.9 0l80 80c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-39-39V392c0 13.3-10.7 24-24 24s-24-10.7-24-24V307.9l-39 39c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9z"/>
            </svg>
            <p>Click to upload an image or drag and drop</p>
            <p style="font-size: 0.9rem; margin-top: 5px; color: #a5d8ff;">
              Supported formats: JPG, PNG, WebP
            </p>
            <input type="file" id="imageInput" accept="image/*" hidden>
          </div>
        </div>

        <div class="control-group">
          <div class="control-label">Point Selection Mode</div>

          <div class="point-controls">
            <div class="point-btn active" id="addPointsBtn">
              <svg class="icon-svg fas fa-plus-circle" viewBox="0 0 512 512">
                <path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344V280H168c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"/>
              </svg> Add Points
            </div>
            <div class="point-btn" id="movePointsBtn">
              <svg class="icon-svg fas fa-arrows-alt" viewBox="0 0 512 512">
                <path d="M278.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-64 64c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l9.4-9.4V224H109.3l9.4-9.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-64 64c-12.5 12.5-12.5 32.8 0 45.3l64 64c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-9.4-9.4H224V402.7l-9.4-9.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l64 64c12.5 12.5 32.8 12.5 45.3 0l64-64c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-9.4 9.4V288H402.7l-9.4 9.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l64-64c12.5-12.5 12.5-32.8 0-45.3l-64-64c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l9.4 9.4H288V109.3l9.4 9.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-64-64z"/>
              </svg> Move Points
            </div>
            <div class="point-btn" id="deletePointsBtn">
              <svg class="icon-svg fas fa-trash-alt" viewBox="0 0 448 512">
                <path d="M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"/>
              </svg> Delete Points
            </div>
          </div>

          <div class="point-counter">
            <span>Points Selected: <strong id="pointCount">0</strong></span>
            <span>Minimum: 4 points required</span>
          </div>
        </div>

        <div class="control-group">
          <button class="btn btn-grid" id="toggleGridBtn" enabled>
            <svg class="icon-svg fas fa-th" viewBox="0 0 448 512">
              <path d="M0 72C0 49.9 17.9 32 40 32H88c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H40c-22.1 0-40-17.9-40-40V72zM0 232c0-22.1 17.9-40 40-40H88c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H40c-22.1 0-40-17.9-40-40V232zM128 392v48c0 22.1-17.9 40-40 40H40c-22.1 0-40-17.9-40-40V392c0-22.1 17.9-40 40-40H88c22.1 0 40 17.9 40 40zM160 72c0-22.1 17.9-40 40-40h48c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H200c-22.1 0-40-17.9-40-40V72zM288 232v48c0 22.1-17.9 40-40 40H200c-22.1 0-40-17.9-40-40V232c0-22.1 17.9-40 40-40h48c22.1 0 40 17.9 40 40zM160 392c0-22.1 17.9-40 40-40h48c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H200c-22.1 0-40-17.9-40-40V392zM408 32c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H360c-22.1 0-40-17.9-40-40V72c0-22.1 17.9-40 40-40h48zM320 232c0-22.1 17.9-40 40-40h48c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H360c-22.1 0-40-17.9-40-40V232zM408 352c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H360c-22.1 0-40-17.9-40-40V392c0-22.1 17.9-40 40-40h48z"/>
            </svg> Toggle Grid Overlay
          </button>

          <button class="btn" id="transformBtn">
            <svg class="icon-svg fas fa-sync-alt" viewBox="0 0 512 512">
              <path d="M142.9 142.9c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5c0 0 0 0 0 0H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5c7.7-21.8 20.2-42.3 37.8-59.8zM16 312v7.6 .7V440c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2l41.6-41.6c87.6 86.5 228.7 86.2 315.8-1c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.2 62.2-162.7 62.5-225.3 1L185 329c6.9-6.9 8.9-17.2 5.2-26.2s-12.5-14.8-22.2-14.8H48.4h-.7H40c-13.3 0-24 10.7-24 24z"/>
            </svg> Apply Perspective Correction
          </button>

          <button class="btn btn-print" id="printBtn" disabled>
            <svg class="icon-svg fas fa-print" viewBox="0 0 512 512">
              <path d="M128 0C92.7 0 64 28.7 64 64v96H32c-17.7 0-32 14.3-32 32v96c0 35.3 28.7 64 64 64h32v96c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V352h32c35.3 0 64-28.7 64-64V192c0-17.7-14.3-32-32-32H448V64c0-35.3-28.7-64-64-64H128zm32 160H352v32H160V160zM128 448V352H384v96c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32z"/>
            </svg> Print Corrected Document
          </button>

          <button class="btn btn-download" id="downloadBtn" disabled>
            <svg class="icon-svg fas fa-download" viewBox="0 0 512 512">
              <path d="M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"/>
            </svg> Download Corrected Image
          </button>

          <button class="btn btn-reset" id="resetBtn">
            <svg class="icon-svg fas fa-redo" viewBox="0 0 512 512">
              <path d="M463.5 224H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1c-87.5 87.5-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5z"/>
            </svg> Reset All Points
          </button>
        </div>

        <div class="status" id="statusMessage">
          Upload an image to begin perspective correction
        </div>
      </section>

      <!-- MIDDLE PANEL: Image Editor -->
      <section class="image-container">
        <h2 class="panel-title">Image Editor</h2>
        <div class="canvas-wrapper">
          <canvas id="sourceCanvas"></canvas>
          <canvas id="gridCanvas"></canvas>
          <canvas id="pointsCanvas"></canvas>
        </div>
      </section>

      <!-- RIGHT PANEL: Instructions & FAQ -->
      <section class="left-panel">
        <div class="instructions">
          <h2>How to Correct Document Perspective</h2>
          <ul>
            <li>Upload a document or photo taken at an angle</li>
            <li>Select at least 4 points around the document edges</li>
            <li>Adjust points precisely using move mode</li>
            <li>Apply perspective correction to generate a rectangular document</li>
            <li>Download or print the corrected high-resolution image</li>
          </ul>
        </div>

        <section class="faq">
          <div class="instructions">
          <h2>Frequently Asked Questions</h2>
          <details>
            <summary>What is document perspective correction?</summary>
            <p>
              Document perspective correction fixes skewed or angled images by transforming
              them into a rectangular, front-facing view. This is commonly used for scanned
              documents, receipts, whiteboards, and photographed papers.
            </p>
          </details>
        
          <details>
            <summary>How does this perspective correction tool work?</summary>
            <p>
              You select at least four points around the document edges. The tool calculates
              a perspective transformation that rectifies the image while preserving its
              original resolution and image quality.
            </p>
          </details>
        
          <details>
            <summary>Is my image uploaded to a server?</summary>
            <p>
              No. All image processing happens locally in your browser. Your documents are
              never uploaded, stored, or shared.
            </p>
          </details>
        
          <details>
            <summary>Does this tool reduce image quality?</summary>
            <p>
              No. The tool preserves the original image resolution and only removes
              unnecessary areas outside the selected region.
            </p>
          </details>
        
          <details>
            <summary>Can I download or print the corrected document?</summary>
            <p>
              Yes. After perspective correction, you can download a high-quality image
              or print the corrected document directly from the browser.
            </p>
          </details>
          </div>
        </section>
      </section>
    </main>
    <footer>
      <p>
        © 2025 Perspective Correction Tool —
        All image processing happens locally in your browser. No uploads.
      </p>
    </footer>
  </div>
  <script type="module">
    // Grid state management
    window.gridState = {
      enabled: false,
      canvas: null,
      ctx: null
    };

    // Export grid functions for use by script.js
    window.drawGrid = function(sourceCanvas, displayScale) {
      const gridCanvas = window.gridState.canvas;
      const gridCtx = window.gridState.ctx;
      
      if (!gridCanvas || !gridCtx || !window.gridState.enabled) {
        if (gridCanvas && gridCtx) {
          gridCtx.clearRect(0, 0, gridCanvas.width, gridCanvas.height);
        }
        return;
      }

      // Match source canvas dimensions
      if (gridCanvas.width !== sourceCanvas.width || gridCanvas.height !== sourceCanvas.height) {
        gridCanvas.width = sourceCanvas.width;
        gridCanvas.height = sourceCanvas.height;
        
        // Match display styling
        gridCanvas.style.width = sourceCanvas.style.width;
        gridCanvas.style.height = sourceCanvas.style.height;
        gridCanvas.style.left = sourceCanvas.style.left;
        gridCanvas.style.top = sourceCanvas.style.top;
      }

      gridCtx.clearRect(0, 0, gridCanvas.width, gridCanvas.height);

      // Calculate average brightness
      const sourceCtx = sourceCanvas.getContext('2d');
      const imageData = sourceCtx.getImageData(0, 0, sourceCanvas.width, sourceCanvas.height);
      const data = imageData.data;
      let totalBrightness = 0;
      let sampleCount = 0;
      
      // Sample every 100th pixel for performance
      for (let i = 0; i < data.length; i += 400) {
        const r = data[i];
        const g = data[i + 1];
        const b = data[i + 2];
        const brightness = (0.299 * r + 0.587 * g + 0.114 * b);
        totalBrightness += brightness;
        sampleCount++;
      }
      
      const avgBrightness = totalBrightness / sampleCount;
      
      // Use white grid for dark images, black grid for light images
      const gridColor = avgBrightness < 128 ? 'rgba(255, 255, 255, 0.6)' : 'rgba(0, 0, 0, 0.6)';
      
      // Grid cell size scaled to actual canvas resolution
      const gridSize = 30 * displayScale;
      
      gridCtx.strokeStyle = gridColor;
      gridCtx.lineWidth = 1 * displayScale;
      gridCtx.setLineDash([5 * displayScale, 5 * displayScale]);
      
      // Draw vertical lines
      for (let x = 0; x < gridCanvas.width; x += gridSize) {
        gridCtx.beginPath();
        gridCtx.moveTo(x, 0);
        gridCtx.lineTo(x, gridCanvas.height);
        gridCtx.stroke();
      }
      
      // Draw horizontal lines
      for (let y = 0; y < gridCanvas.height; y += gridSize) {
        gridCtx.beginPath();
        gridCtx.moveTo(0, y);
        gridCtx.lineTo(gridCanvas.width, y);
        gridCtx.stroke();
      }
      
      gridCtx.setLineDash([]);
    };

    window.initGrid = function() {
      const gridCanvas = document.getElementById('gridCanvas');
      if (gridCanvas) {
        window.gridState.canvas = gridCanvas;
        window.gridState.ctx = gridCanvas.getContext('2d');
        document.getElementById('toggleGridBtn').disabled = false;
      }
    };

    // Clipboard paste functionality
    document.addEventListener('paste', function(e) {
      const items = e.clipboardData?.items;
      if (!items) return;

      for (let i = 0; i < items.length; i++) {
        if (items[i].type.indexOf('image') !== -1) {
          e.preventDefault();
          const blob = items[i].getAsFile();
          const reader = new FileReader();
          reader.onload = function(event) {
            const imageInput = document.getElementById('imageInput');
            const file = new File([blob], 'pasted-image.png', { type: blob.type });
            const dataTransfer = new DataTransfer();
            dataTransfer.items.add(file);
            imageInput.files = dataTransfer.files;
            const changeEvent = new Event('change', { bubbles: true });
            imageInput.dispatchEvent(changeEvent);
          };
          reader.readAsDataURL(blob);
          break;
        }
      }
    });

    // Toggle grid button handler
    document.getElementById('toggleGridBtn').addEventListener('click', function() {
      window.gridState.enabled = !window.gridState.enabled;
      
      // Update button state
      if (window.gridState.enabled) {
        this.style.background = '#28a745';
        this.innerHTML = '<svg class="icon-svg fas fa-th" viewBox="0 0 448 512"><path d="M0 72C0 49.9 17.9 32 40 32H88c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H40c-22.1 0-40-17.9-40-40V72zM0 232c0-22.1 17.9-40 40-40H88c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H40c-22.1 0-40-17.9-40-40V232zM128 392v48c0 22.1-17.9 40-40 40H40c-22.1 0-40-17.9-40-40V392c0-22.1 17.9-40 40-40H88c22.1 0 40 17.9 40 40zM160 72c0-22.1 17.9-40 40-40h48c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H200c-22.1 0-40-17.9-40-40V72zM288 232v48c0 22.1-17.9 40-40 40H200c-22.1 0-40-17.9-40-40V232c0-22.1 17.9-40 40-40h48c22.1 0 40 17.9 40 40zM160 392c0-22.1 17.9-40 40-40h48c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H200c-22.1 0-40-17.9-40-40V392zM408 32c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H360c-22.1 0-40-17.9-40-40V72c0-22.1 17.9-40 40-40h48zM320 232c0-22.1 17.9-40 40-40h48c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H360c-22.1 0-40-17.9-40-40V232zM408 352c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H360c-22.1 0-40-17.9-40-40V392c0-22.1 17.9-40 40-40h48z"/></svg> Hide Grid Overlay';
      } else {
        this.style.background = '';
        this.innerHTML = '<svg class="icon-svg fas fa-th" viewBox="0 0 448 512"><path d="M0 72C0 49.9 17.9 32 40 32H88c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H40c-22.1 0-40-17.9-40-40V72zM0 232c0-22.1 17.9-40 40-40H88c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H40c-22.1 0-40-17.9-40-40V232zM128 392v48c0 22.1-17.9 40-40 40H40c-22.1 0-40-17.9-40-40V392c0-22.1 17.9-40 40-40H88c22.1 0 40 17.9 40 40zM160 72c0-22.1 17.9-40 40-40h48c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H200c-22.1 0-40-17.9-40-40V72zM288 232v48c0 22.1-17.9 40-40 40H200c-22.1 0-40-17.9-40-40V232c0-22.1 17.9-40 40-40h48c22.1 0 40 17.9 40 40zM160 392c0-22.1 17.9-40 40-40h48c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H200c-22.1 0-40-17.9-40-40V392zM408 32c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H360c-22.1 0-40-17.9-40-40V72c0-22.1 17.9-40 40-40h48zM320 232c0-22.1 17.9-40 40-40h48c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H360c-22.1 0-40-17.9-40-40V232zM408 352c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H360c-22.1 0-40-17.9-40-40V392c0-22.1 17.9-40 40-40h48z"/></svg> Toggle Grid Overlay';
      }
      // Trigger redraw if canvas exists
      const sourceCanvas = document.getElementById('sourceCanvas');
      if (sourceCanvas && window.currentDisplayScale) {
        window.drawGrid(sourceCanvas, window.currentDisplayScale);
      }
    });
  </script>
  <script type="module" src="script.js"></script>
        <script type="module" src="./seo-loader.js"></script>

</body>
</html>